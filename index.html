<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fast Travel | Transporte Ejecutivo VIP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        #panel {
            transition: transform 0.6s cubic-bezier(0.32, 0.72, 0, 1);
        }
        .translate-x-full { transform: translateX(100%); }
        .translate-x-0 { transform: translateX(0); }

        #modalApp {
            transition: backdrop-filter 0.5s ease;
            backdrop-filter: blur(0px);
        }
        #modalApp.bg-active {
            backdrop-filter: blur(5px);
        }
    </style>
</head>

<body class="bg-black text-white font-sans overflow-x-hidden">

<section class="min-h-screen flex flex-col justify-center items-center text-center px-6 bg-gradient-to-b from-black to-gray-900">
    <img src="logo_ft-removebg-preview (1).png" alt="Fast Travel Logo" class="w-48 md:w-64 mb-8">
    <h1 class="text-4xl md:text-5xl font-bold mb-4 uppercase text-white">Transporte Ejecutivo Privado</h1>
    <p class="text-gray-400 max-w-xl mb-8">
        Servicio VIP de traslados seguros, puntuales y exclusivos. Atenci√≥n 24/7 en Ecuador.
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center w-full max-w-xs sm:max-w-none">
        <button onclick="abrirModal()" class="bg-red-800 hover:bg-red-900 text-white px-8 py-4 rounded-xl font-bold shadow-lg active:scale-95 transition">
            üöó Reservar en App
        </button>
        <a href="https://wa.me/593979986138" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-xl font-bold text-center active:scale-95 transition">
            üí¨ WhatsApp
        </a>
    </div>
</section>

<div id="modalApp" class="fixed inset-0 bg-black/90 z-50 hidden items-center justify-center">
    <div id="panel" class="bg-white w-full h-full md:max-w-md md:h-[90vh] md:rounded-3xl shadow-2xl relative overflow-hidden translate-x-full">
        
        <button onclick="cerrarModal()" class="absolute top-6 left-6 text-black text-3xl font-bold z-[60]">‚úï</button>

        <div id="filtro-seguridad" class="p-8 flex flex-col justify-center h-full text-black overflow-y-auto">
            <div class="text-center mb-6">
                <h2 class="text-xl font-black uppercase italic tracking-tighter text-gray-900">Fast Travel <span class="text-red-600">ID</span></h2>
                <p class="text-[10px] text-gray-400 font-bold uppercase tracking-widest">Inicie sesi√≥n para solicitar unidad</p>
            </div>

            <div class="flex justify-center gap-4 mb-8">
                <div id="icon-ig" class="flex flex-col items-center opacity-40 hover:opacity-100 transition cursor-pointer" onclick="seleccionarRed('Instagram', 'https://www.instagram.com/fasttravelec/?hl=es')">
                    <img src="https://cdn-icons-png.flaticon.com/512/174/174855.png" class="w-10 h-10 mb-1">
                    <span class="text-[8px] font-bold">INSTAGRAM</span>
                </div>
                <div id="icon-tk" class="flex flex-col items-center opacity-40 hover:opacity-100 transition cursor-pointer" onclick="seleccionarRed('TikTok', 'https://www.tiktok.com/@fasttravelec')">
                    <img src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png" class="w-10 h-10 mb-1">
                    <span class="text-[8px] font-bold">TIKTOK</span>
                </div>
                <div id="icon-fb" class="flex flex-col items-center opacity-40 hover:opacity-100 transition cursor-pointer" onclick="seleccionarRed('Facebook', 'https://facebook.com/fasttravelec')">
                    <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" class="w-10 h-10 mb-1">
                    <span class="text-[8px] font-bold">FACEBOOK</span>
                </div>
            </div>

            <form id="miFormulario" class="space-y-3">
                <input type="hidden" name="RedSocialNombre" id="inputRedSocialNombre" value="">
                <input type="hidden" name="RedSocialLink" id="inputRedSocialLink" value="">
                
                <input type="text" name="Nombre" placeholder="Nombre Completo" class="w-full p-3 rounded-xl bg-gray-50 border border-gray-200 text-sm focus:border-red-500 outline-none" required>
                <input type="text" name="Cedula" placeholder="N√∫mero de C√©dula" class="w-full p-3 rounded-xl bg-gray-50 border border-gray-200 text-sm focus:border-red-500 outline-none" required>
                <input type="number" name="WhatsApp" placeholder="WhatsApp" class="w-full p-3 rounded-xl bg-gray-100 border border-gray-200 text-sm focus:border-red-500 outline-none font-bold" required>
                <input type="email" name="Correo" placeholder="Correo Electr√≥nico" class="w-full p-3 rounded-xl bg-gray-50 border border-gray-200 text-sm focus:border-red-500 outline-none" required>
                
                <button type="submit" id="btn-verificar" class="w-full bg-red-600 text-white font-bold py-4 rounded-2xl hover:bg-red-700 transition shadow-lg active:scale-95 mt-4">
                    VINCULAR Y ACTIVAR APP
                </button>
            </form>
        </div>

        <div id="contenedor-aplicativo" class="hidden h-full w-full flex flex-col">
            <div class="bg-black p-2 text-center text-[9px] font-bold text-white uppercase tracking-wider">
                üöï ¬øSin unidades? <a href="https://wa.me/593979986138" target="_blank" class="text-yellow-400 underline ml-1 text-[11px]">SOPORTE AQU√ç</a>
            </div>
            <iframe src="https://fasttravelec.ondelight.app/" class="flex-grow w-full border-0" allow="geolocation"></iframe>
        </div>
    </div>
</div>

<script>
const scriptURL = 'https://script.google.com/macros/s/AKfycbxKlJcx4sa_R2y61RZ6bY6cg2o6oebxRA57EPSF5N0PaZp5oa2qcvTcYnTHbGGnYdAGVw/exec'; 

function seleccionarRed(nombre, link) {
    document.getElementById('inputRedSocialNombre').value = nombre;
    document.getElementById('inputRedSocialLink').value = link;
    
    const icons = document.querySelectorAll('#filtro-seguridad div.flex.flex-col.items-center');
    icons.forEach(icon => icon.classList.replace('opacity-100', 'opacity-40'));
    event.currentTarget.classList.replace('opacity-40', 'opacity-100');
}

document.getElementById('miFormulario').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const redNombre = document.getElementById('inputRedSocialNombre').value;
    const redLink = document.getElementById('inputRedSocialLink').value;

    if (!redNombre) {
        alert("Por favor, selecciona una red social arriba para vincular tu cuenta.");
        return;
    }

    const btn = document.getElementById('btn-verificar');
    btn.innerText = "VINCULANDO...";
    btn.disabled = true;

    // 1. ABRIR RED SOCIAL
    window.open(redLink, '_blank');

    // 2. ENVIAR DATOS
    const params = new URLSearchParams();
    params.append('Nombre', e.target.Nombre.value);
    params.append('Cedula', e.target.Cedula.value);
    params.append('WhatsApp', e.target.WhatsApp.value);
    params.append('Correo', e.target.Correo.value);
    params.append('RedSocial', redNombre);

    fetch(scriptURL, { method: 'POST', body: params, mode: 'no-cors' })
    .then(() => {
        document.getElementById('filtro-seguridad').classList.add('hidden');
        document.getElementById('contenedor-aplicativo').classList.remove('hidden');
    })
    .catch(() => {
        alert("Error de conexi√≥n.");
        btn.disabled = false;
        btn.innerText = "VINCULAR Y ACTIVAR APP";
    });
});

function abrirModal() {
    document.getElementById('modalApp').classList.replace('hidden', 'flex');
    setTimeout(() => {
        document.getElementById('panel').classList.replace('translate-x-full', 'translate-x-0');
        document.getElementById('modalApp').classList.add('bg-active');
    }, 10);
}

function cerrarModal() {
    document.getElementById('panel').classList.replace('translate-x-0', 'translate-x-full');
    document.getElementById('modalApp').classList.remove('bg-active');
    setTimeout(() => { document.getElementById('modalApp').classList.replace('flex', 'hidden'); }, 600);
}
</script>

</body>
</html>

